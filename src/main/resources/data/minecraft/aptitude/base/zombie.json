{
  "added_to_world": {
    "type": "aptitude:all_of_consumer",
    "consumers": [
      {
        "type": "aptitude:entity_set_can_pick_up_loot"
      },
      {
        "type": "aptitude:entity_set_can_open_doors"
      }
    ]
  },
  "first_spawn": {
    "type": "aptitude:all_of_consumer",
    "consumers": [
      {
        "type": "aptitude:predicated_consumer",
        "predicate": {
          "type": "aptitude:is_adult"
        },
        "consumer": {
          "type": "aptitude:predicated_consumer",
          "predicate": {
            "type": "aptitude:entity_random_float_chance",
            "random_chance": 0.5
          },
          "consumer": {
            "type": "aptitude:entity_set_equipment_in_slot",
            "slot": "mainhand",
            "equipment": {
              "item": "minecraft:crossbow"
            }
          },
          "default": {
            "type": "aptitude:entity_set_equipment_in_slot",
            "slot": "mainhand",
            "equipment": {
              "item": "minecraft:golden_sword"
            }
          }
        }
      },
      {
        "type": "aptitude:set_boolean_memory",
        "memory": "minecraft:hunted_recently",
        "value": true,
        "expire_time": {
          "type": "aptitude:entity_get_long_from_uniform_int",
          "uniform_int": {
            "minInclusive": 600,
            "maxInclusive": 2400
          }
        }
      }
    ]
  },
  "wants_to_pick_up": {
    "type": "aptitude:all_of_bipredicate",
    "bipredicates": [
      {
        "type": "aptitude:negate_bipredicate",
        "bipredicate": {
          "type": "aptitude:any_of_bipredicate",
          "bipredicates": [
            {
              "type": "aptitude:bipredicate_of_predicates",
              "predicate_for_first": {
                "type": "aptitude:is_baby"
              },
              "predicate_for_second": {
                "type": "aptitude:item_is",
                "is": {
                  "tag": "minecraft:ignored_by_piglin_babies"
                }
              }
            },
            {
              "type": "aptitude:bipredicate_of_predicates",
              "predicate_for_second": {
                "type": "aptitude:item_is",
                "is": {
                  "tag": "minecraft:piglin_repellents"
                }
              }
            },
            {
              "type": "aptitude:bipredicate_of_predicates",
              "predicate_for_first": {
                "type": "aptitude:memory_status_check",
                "addContext": [
                  {
                    "type": "minecraft:admiring_disabled",
                    "status": "value_present"
                  },
                  {
                    "type": "minecraft:attack_target",
                    "status": "value_present"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "type": "aptitude:any_of_bipredicate",
        "bipredicates": [
          {
            "type": "aptitude:bipredicate_of_predicates",
            "predicate_for_first": {
              "type": "aptitude:any_of_predicate",
              "predicates": [
                {
                  "type": "aptitude:entity_has_empty_slot",
                  "slot": "offhand"
                },
                {
                  "type": "aptitude:negate_predicate",
                  "predicate": {
                    "type": "aptitude:entity_item_in_slot_is",
                    "slot": "offhand",
                    "item_in_slot_is": {
                      "tag": "minecraft:piglin_loved"
                    }
                  }
                }
              ]
            },
            "predicate_for_second": {
              "type": "aptitude:item_is",
              "is": {
                "item": "minecraft:gold_ingot"
              }
            }
          },
          {
            "type": "aptitude:all_of_bipredicate",
            "bipredicates": [
              {
                "type": "aptitude:bipredicate_of_predicates",
                "predicate_for_second": {
                  "type": "aptitude:item_is",
                  "is": {
                    "item": "minecraft:gold_nugget"
                  }
                }
              },
              {
                "type": "aptitude:entity_can_add_item_to_inventory"
              }
            ]
          },
          {
            "type": "aptitude:all_of_bipredicate",
            "bipredicates": [
              {
                "type": "aptitude:bipredicate_of_predicates",
                "predicate_for_first": {
                  "type": "aptitude:all_of_predicate",
                  "predicates": [
                    {
                      "type": "aptitude:negate_predicate",
                      "predicate": {
                        "type": "aptitude:memory_status_check",
                        "addContext": {
                          "type": "minecraft:ate_recently",
                          "status": "value_present"
                        }
                      }
                    }
                  ]
                },
                "predicate_for_second": {
                  "type": "aptitude:item_is",
                  "is": {
                    "tag": "minecraft:piglin_food"
                  }
                }
              },
              {
                "type": "aptitude:entity_can_add_item_to_inventory"
              }
            ]
          },
          {
            "type": "aptitude:all_of_bipredicate",
            "bipredicates": [
              {
                "type": "aptitude:entity_can_replace_current_item"
              },
              {
                "type": "aptitude:bipredicate_of_predicates",
                "predicate_for_second": {
                  "type": "aptitude:negate_predicate",
                  "predicate": {
                    "type": "aptitude:item_is",
                    "is": {
                      "tag": "minecraft:piglin_loved"
                    }
                  }
                }
              }
            ]
          },
          {
            "type": "aptitude:all_of_bipredicate",
            "bipredicates": [
              {
                "type": "aptitude:bipredicate_of_predicates",
                "predicate_for_first": {
                  "type": "aptitude:any_of_predicate",
                  "predicates": [
                    {
                      "type": "aptitude:entity_has_empty_slot",
                      "slot": "offhand"
                    },
                    {
                      "type": "aptitude:negate_predicate",
                      "predicate": {
                        "type": "aptitude:entity_item_in_slot_is",
                        "slot": "offhand",
                        "item_in_slot_is": {
                          "tag": "minecraft:piglin_loved"
                        }
                      }
                    }
                  ]
                }
              },
              {
                "type": "aptitude:entity_can_add_item_to_inventory"
              }
            ]
          }
        ]
      }
    ]
  },
  "attacked_by": {
    "type": "aptitude:all_of_biconsumer",
    "biconsumers": [
      {
        "type": "aptitude:biconsumer_of_consumers",
        "consumer_for_first": {
          "type": "aptitude:predicated_consumer",
          "predicate": {
            "type": "aptitude:negate_predicate",
            "predicate": {
              "type": "aptitude:entity_has_empty_slot",
              "slot": "offhand"
            }
          },
          "consumer": {
            "type": "aptitude:finish_admiring_and_maybe_barter",
            "barter_currency": {
              "item": "minecraft:gold_ingot"
            },
            "do_barter": false,
            "bartering_loot_table": "minecraft:gameplay/piglin_bartering",
            "loved_items": {
              "tag": "minecraft:piglin_loved"
            }
          }
        }
      },
      {
        "type": "aptitude:biconsumer_of_consumers",
        "consumer_for_first": {
          "type": "aptitude:all_of_consumer",
          "consumers": [
            {
              "type": "aptitude:entity_erase_memory",
              "memory_type": "minecraft:celebrate_location"
            },
            {
              "type": "aptitude:entity_erase_memory",
              "memory_type": "minecraft:dancing"
            },
            {
              "type": "aptitude:entity_erase_memory",
              "memory_type": "minecraft:admiring_item"
            }
          ]
        }
      },
      {
        "type": "aptitude:bipredicated_biconsumer",
        "bipredicate": {
          "type": "aptitude:bipredicate_of_predicates",
          "predicate_for_second": {
            "type": "aptitude:entity_is_type",
            "entity_type_predicate": "minecraft:player"
          }
        },
        "biconsumer": {
          "type": "aptitude:biconsumer_of_consumers",
          "consumer_for_first": {
            "type": "aptitude:set_boolean_memory",
            "memory": "minecraft:admiring_disabled",
            "value": true,
            "expire_time": 400
          }
        }
      },
      {
        "type": "aptitude:bipredicated_biconsumer",
        "bipredicate": {
          "type": "aptitude:entity_apply_bipredicate_to_retrieved_entity",
          "retrieval_function": {
            "type": "aptitude:retrieve_entity_from_memory",
            "addContext": {
              "memory_type": "minecraft:avoid_target"
            }
          },
          "bipredicate": {
            "type": "aptitude:negate_bipredicate",
            "bipredicate": {
              "type": "aptitude:entity_is_same_type_as"
            }
          }
        },
        "biconsumer": {
          "type": "aptitude:biconsumer_of_consumers",
          "consumer_for_first": {
            "type": "aptitude:entity_erase_memory",
            "memory_type": "minecraft:avoid_target"
          }
        }
      }
    ]
  },
  "pick_up_item": {
    "type": "aptitude:entity_pick_up_wanted_item",
    "takes_all": {
      "type": "aptitude:item_is",
      "is": {
        "item": "minecraft:gold_nugget"
      }
    },
    "loved_items": {
      "type": "aptitude:item_is",
      "is": {
        "tag": "minecraft:piglin_loved"
      }
    },
    "time_trying_to_reach_wanted_item_memory": "minecraft:time_trying_to_reach_admire_item",
    "handling_item_memory": "minecraft:admiring_item",
    "handling_item_time": 120,
    "food_items": {
      "type": "aptitude:item_is",
      "is": {
        "tag": "minecraft:piglin_food"
      }
    },
    "consumed_item_memory": "minecraft:ate_recently",
    "consumed_item_time": 200
  }
}