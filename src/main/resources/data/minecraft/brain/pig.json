{
  "memory_types": [
    "minecraft:breed_target",
    "minecraft:mobs",
    "minecraft:visible_mobs",
    "minecraft:nearest_visible_player",
    "minecraft:nearest_visible_targetable_player",
    "minecraft:look_target",
    "minecraft:walk_target",
    "minecraft:cant_reach_walk_target_since",
    "minecraft:path",
    "minecraft:attack_target",
    "minecraft:attack_cooling_down",
    "minecraft:nearest_visible_adult_piglin",
    "minecraft:avoid_target",
    "minecraft:visible_adult_piglin_count",
    "aptitude:visible_adult_pig_count",
    "aptitude:nearest_visible_adult_pigs",
    "minecraft:nearest_visible_adult",
    "minecraft:nearest_repellent",
    "minecraft:pacified"
  ],
  "sensor_types": [
    "minecraft:nearest_living_entities",
    "minecraft:nearest_players",
    "minecraft:nearest_adult",
    "aptitude:pig_specific_sensor"
  ],
  "core_activities": [
    "minecraft:core"
  ],
  "rotating_activities": [
    "minecraft:fight",
    "minecraft:avoid",
    "minecraft:idle"
  ],
  "default_activity": {
    "type": "minecraft:idle",
    "set_active": true
  },
  "activities_by_priority": [
    {
      "activity": "minecraft:core",
      "priority_start": 0,
      "behaviors": [
        {
            "type": "aptitude:look_at_target_sink",
            "minDuration": 45,
            "maxDuration": 90
        },
        {
            "type": "aptitude:move_to_target_sink"
        }
      ]
    },
    {
      "activity": "minecraft:idle",
      "priority_start": 10,
      "behaviors": [
        {
            "type": "aptitude:become_passive_if_memory_present",
            "memoryType": "minecraft:nearest_repellent",
            "pacifyDuration": 200
        },
        {
            "type": "aptitude:animal_make_love",
            "partnerType": "minecraft:pig",
            "speedModifier": 0.6
        },
        {
            "type": "aptitude:set_walk_target_away_from",
            "walkAwayFromMemory": "minecraft:nearest_repellent",
            "speedModifier": 1.0,
            "desiredDistance": 8,
            "ignoreWalkTarget": true,
            "toPosition": {
              "type": "aptitude:block_position_vector"
            }

        },
        {
            "type": "aptitude:start_attacking",
            "canAttackPredicate": {
              "type": "aptitude:memory_status_checks",
              "addContext": [
                {
                  "type": "aptitude:breed_target",
                  "status": "value_absent"
                },
                {
                  "type": "aptitude:pacified",
                  "status": "value_absent"
                }
              ]
            },
            "targetFinderFunction": {
              "type": "aptitude:retrieve_target_from_memory",
              "addContext": {
                "type": "minecraft:nearest_visible_attackable_player"
              }
            }
        },
        {
            "type": "aptitude:run_if",
            "predicate": {
              "type": "aptitude:is_baby"
            },
            "checkWhileRunningAlso": false,
            "wrappedBehavior": {
              "type": "aptitude:set_walk_target_away_from",
              "walkAwayFromMemory": "minecraft:nearest_visible_adult_piglin",
              "speedModifier": 0.4,
              "desiredDistance": 8,
              "ignoreWalkTarget": false,
              "toPosition": {
                "type": "aptitude:entity_position_vector"
              }
            }
        },
        {
            "type": "aptitude:run_sometimes",
            "interval": {
              "minInclusive": 30,
              "maxInclusive": 60
            },
            "wrappedBehavior": {
              "type": "aptitude:set_entity_look_target",
              "maxDistSqr": 8.0
            }
        },
        {
            "type": "aptitude:baby_follow_adult",
            "followRange": {
              "minInclusive": 5,
              "maxInclusive": 16
            },
            "speedModifier": 0.6
        },
        {
            "type": "aptitude:run_one",
            "behaviors": [
              {
                "weight": 2,
                "type": "aptitude:random_stroll",
                "speedModifier": 0.4
              },
              {
                "weight": 2,
                "type": "aptitude:set_walk_target_from_look_target",
                "speedModifier": 0.4,
                "closeEnoughDistance": 3
              },
              {
                "weight": 1,
                "type": "aptitude:do_nothing",
                "minDuration": 30,
                "maxDuration": 60
              }
            ]
        }
      ]
    },
    {
      "activity": "minecraft:fight",
      "priority_start": 10,
      "remove_when_stopped": [
        "minecraft:attack_target"
      ],
      "behaviors": [
        {
            "type": "aptitude:become_passive_if_memory_present",
            "memoryType": "minecraft:nearest_repellent",
            "pacifyDuration": 200
        },
        {
            "type": "aptitude:animal_make_love",
            "partnerType": "minecraft:pig",
            "speedModifier": 0.6
        },
        {
            "type": "aptitude:set_walk_target_from_attack_target_if_target_out_of_reach",
            "speedModifier": 1.0
        },
        {
            "type": "aptitude:run_if",
            "predicate": {
              "type": "aptitude:is_adult"
            },
            "wrappedBehavior": {
              "type": "aptitude:melee_attack",
              "cooldownBetweenAttacks": 40
            }
        },
        {
            "type": "aptitude:run_if",
            "predicate": {
              "type": "aptitude:is_baby"
            },
            "wrappedBehavior": {
              "type": "aptitude:melee_attack",
              "cooldownBetweenAttacks": 15
            }
        },
        {
            "type": "aptitude:stop_attacking_if_target_invalid"
        },
        {
            "type": "aptitude:erase_memory_if",
            "predicate": {
              "type": "aptitude:memory_status_checks",
              "addContext": {
                "type": "aptitude:breed_target",
                "status": "value_present"
              }
            },
            "memoryType": "minecraft:attack_target"
        }
      ]
    },
    {
      "activity": "minecraft:avoid",
      "priority_start": 10,
      "remove_when_stopped": [
        "minecraft:avoid_target"
      ],
      "behaviors": [
        {
            "type": "aptitude:set_walk_target_away_from",
            "walkAwayFromMemory": "minecraft:avoid_target",
            "speedModifier": 1.3,
            "desiredDistance": 15,
            "ignoreWalkTarget": false,
            "toPosition": {
              "type": "aptitude:entity_position_vector"
            }
        },
        {
            "type": "aptitude:run_one",
            "behaviors": [
              {
                "weight": 2,
                "type": "aptitude:random_stroll",
                "speedModifier": 0.4
              },
              {
                "weight": 2,
                "type": "aptitude:set_walk_target_from_look_target",
                "speedModifier": 0.4,
                "closeEnoughDistance": 3
              },
              {
                "weight": 1,
                "type": "aptitude:do_nothing",
                "minDuration": 30,
                "maxDuration": 60
              }
            ]
        },
        {
            "type": "aptitude:run_sometimes",
            "interval": {
              "minInclusive": 30,
              "maxInclusive": 60
            },
            "wrappedBehavior": {
              "type": "aptitude:set_entity_look_target",
              "maxDistSqr": 8.0
            }
        },
        {
            "type": "aptitude:erase_memory_if",
            "predicate": {
              "type": "aptitude:outnumbered_adult",
              "addContext": {
                "sameType": "aptitude:visible_adult_pig_count",
                "otherType": "aptitude:visible_adult_piglin_count"
              }
            },
            "memoryType": "minecraft:avoid_target"
          }
      ]
    }
  ]
}